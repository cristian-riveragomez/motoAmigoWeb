<h1 class="mt-3">Productos pendientes de aprobacion</h1>
<hr>

<table *ngIf="!cargando && productosPendientes.length > 0" class="table animated fadeIn faster">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre</th>
        <th scope="col">Tipo Producto</th>
        <th scope="col">Precio</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let productoPendiente of productosPendientes; let i = index">
        <th scope="row">{{ i + 1 }}</th>
        <td >{{ productoPendiente.nombre }}</td>
        <td >{{ productoPendiente.tipoProducto }}</td>
        <td>${{ productoPendiente.precio }}</td>
        <td>
          <button class="btn btn-info mr-2"  [routerLink]="['/producto', productoPendiente.idProducto, 'admin']">
            <i class="fa-solid fa-eye"></i>
          </button>
          <button class="btn btn-success mr-2" (click)="actualizarEstadoProducto( productoPendiente, i, 'Aprobar')">
            <i class="fa-solid fa-check"></i>
          </button>
              <button class="btn btn-danger" (click)="actualizarEstadoProducto( productoPendiente, i, 'Rechazar' )">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </td>
      </tr>    
    </tbody>
</table>

<app-loading *ngIf="cargando"></app-loading>

<div *ngIf="!cargando && productosPendientes.length === 0" class="alert alert-warning text-center mt-3">
    <h4 class="alert-heading">No hay registros </h4>
    <p><i class="fa fa-exclamation fa-2x"></i></p>
</div>

<h1 class="mt-3">Productos denunciados</h1>
<hr>

<table *ngIf="!cargando && productosDenunciados.length > 0" class="table animated fadeIn faster">
     <thead class="thead-dark">
       <tr>
         <th scope="col">#</th>
         <th scope="col">Nombre</th>
         <th scope="col">Tipo Producto</th>
         <th scope="col">Precio</th>
         <th scope="col">Acciones</th>
       </tr>
     </thead>
     <tbody>
       <tr *ngFor="let producto of productosDenunciados; let i = index">
         <th scope="row">{{ i + 1 }}</th>
         <td >{{ producto.nombre }}</td>
         <td >{{ producto.tipoProducto }}</td>
         <td>${{ producto.precio }}</td>
         <td>
            <button class="btn btn-info mr-2"  [routerLink]="['/producto', producto.idProducto, 'admin']">
              <i class="fa-solid fa-eye"></i>
            </button>
            <button class="btn btn-danger mr-2" (click)="borrarProducto( producto, i )">
              <i class="fa fa-trash"></i>
            </button>
            <button class="btn btn-success" (click)="aprobarProductoDenunciado( producto, i )">
              <i class="fa-solid fa-check"></i>
            </button>
         </td>
       </tr>    
     </tbody>
</table>

<app-loading *ngIf="cargando"></app-loading>

<div *ngIf="!cargando && productosDenunciados.length === 0" class="alert alert-warning text-center mt-3">
    <h4 class="alert-heading">No hay registros </h4>
    <p><i class="fa fa-exclamation fa-2x"></i></p>
</div>


<h1 class="mt-4">Usuarios</h1>
<hr>

<table *ngIf="!cargando && usuarios.length > 0" class="table animated fadeIn faster">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nombre</th>
      <th scope="col">Apellido</th>
      <th scope="col">Usuario</th>
      <th scope="col">Email</th>
      <th scope="col">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let usuario of usuarios; let i = index">
      <th scope="row">{{ i + 1 }}</th>
      <td>{{ usuario.nombre }}</td>
      <td>{{ usuario.apellido }}</td>
      <td>{{ usuario.nombreUsuario }}</td>
      <td>{{ usuario.email }}</td>
      <td>
          <button class="btn btn-danger" (click)="borrarUsuario( usuario, i )">
          <i class="fa fa-trash"></i>
        </button>
      </td>
    </tr>    
  </tbody>
</table>

<app-loading *ngIf="cargando"></app-loading>

<div *ngIf="!cargando && usuarios.length === 0" class="alert alert-warning text-center mt-3">
  <h4 class="alert-heading">No hay registros </h4>
  <p><i class="fa fa-exclamation fa-2x"></i></p>
</div>